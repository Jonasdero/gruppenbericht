% !TeX root = thesis.tex
\documentclass[
    11pt,
    a4paper,
    egregdoesnotlikesansseriftitles,
    toc=chapterentrywithdots,
    twoside,openright,
    titlepage,
    parskip=half,
    headings=normal,  % reduces heading size
    listof=totoc,
    bibliography=totoc,
    index=totoc,
    captions=tableheading,  % caption below table
    % chapterprefix,
    listof=flat,
    final
]{scrbook}

% details about your thesis
\newcommand{\titel}{Projekt: Digital Dahoam}
\newcommand{\artderarbeit}{Gruppenprojektbericht}  % {Bachelorarbeit,Masterarbeit}
\newcommand{\autor}{Daniel Reitberger, André Reif, Rebecca Vogler, Jan Scholz, Boas Dünkel, Marc Jonas Roser}
\newcommand{\studiengang}{Software Engineering}  % {Informatik,Wirtschaftsinformatik,Medieninformatik}
\newcommand{\erstgutachter}{Johannes Walser}
\newcommand{\zweitgutachter}{Jürgen Andert}
\newcommand{\betreuer}{}
\newcommand{\unternehmen}{}
\newcommand{\logo}{figures/TH-Nuernberg-RGB.png}
\newcommand{\keywords}{}
\newcommand{\publishDate}{15.04.2023}

% custom head and foot
\usepackage[automark]{scrlayer-scrpage}

\pagestyle{scrheadings}
\ihead{\headmark}
\chead{}
\ohead{\pagemark}
\renewcommand*\sectionmarkformat{
  \chapappifchapterprefix{\ }%
  \thechapter.\enskip
}

% Chapter and Section margins
% If needed adjust margins here to drastically increase pages ;)
\RedeclareSectionCommand[
  beforeskip=0\baselineskip,
  afterskip=.25\baselineskip]{chapter}
\RedeclareSectionCommand[
  tocindent=0pt,
  beforeskip=-.5\baselineskip,
  afterskip=.1\baselineskip]{section}
\RedeclareSectionCommand[
  tocindent=10pt,
  beforeskip=-0.05\baselineskip,
  afterskip=0.05\baselineskip]{subsection}
\RedeclareSectionCommand[
  tocindent=10pt,
  beforeskip=-0.05\baselineskip,
  afterskip=0.05\baselineskip]{subsubsection}

\usepackage{scrhack}

% other packages
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern,relsize,textcomp,csquotes}
\usepackage{amsfonts}
\usepackage[english,ngerman]{babel}
\usepackage[english,ngerman]{tracklang}
\usepackage{caption}
% \usepackage{biblatex}
\usepackage{subcaption}
% Label format
\DeclareCaptionLabelFormat{custom}
{%
  \textbf{#1 (#2)}
}
% Separator style
\DeclareCaptionLabelSeparator{custom}{-- }
% Caption format
\DeclareCaptionFormat{custom}
{%
  #1#2\small #3
}
\captionsetup
{
  format=custom,%
  labelformat=custom,%
  labelsep=custom,
  justification=centering
}

\usepackage{graphicx}
\usepackage{wrapfig}
\usepackage{setspace,geometry,xcolor}
\usepackage{makeidx}
\usepackage[hyphens]{url}

\usepackage{pdfpages}

% table setup
\usepackage{longtable}
\usepackage{array}
\usepackage{ragged2e}
\usepackage{lscape}
\usepackage{makecell}
\usepackage{tabularx}

\usepackage{listings}
\usepackage{xcolor}


% Define JavaScript Language
\definecolor{lightgray}{rgb}{.9,.9,.9}
\definecolor{darkgray}{rgb}{.4,.4,.4}
\definecolor{purple}{rgb}{0.65, 0.12, 0.82}
\lstdefinelanguage{JavaScript}{
  keywords={break, case, catch, continue, debugger, default, delete, do, else, false, finally, for, function, if, in, instanceof, new, null, return, switch, this, throw, true, try, typeof, var, void, while, with},
  morecomment=[l]{//},
  morecomment=[s]{/*}{*/},
  morestring=[b]',
  morestring=[b]",
  ndkeywords={class, export, boolean, throw, implements, import, this},
  keywordstyle=\color{blue}\bfseries,
  ndkeywordstyle=\color{darkgray}\bfseries,
  identifierstyle=\color{black},
  commentstyle=\color{purple}\ttfamily,
  stringstyle=\color{red}\ttfamily,
  sensitive=true
}

\lstset{
  language=JavaScript,
  backgroundcolor=\color{lightgray},
  extendedchars=true,
  basicstyle=\footnotesize\ttfamily,
  showstringspaces=false,
  showspaces=false,
  numbers=left,
  numberstyle=\footnotesize,
  numbersep=9pt,
  tabsize=2,
  breaklines=true,
  showtabs=false,
  captionpos=b
}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\lstdefinestyle{mystyle}{
  backgroundcolor=\color{backcolour},
  commentstyle=\color{codegreen},
  keywordstyle=\color{magenta},
  numberstyle=\tiny\color{codegray},
  stringstyle=\color{codepurple},
  basicstyle=\ttfamily\footnotesize,
  breakatwhitespace=false,
  breaklines=true,
  captionpos=b,
  keepspaces=true,
  numbers=left,
  numbersep=5pt,
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  tabsize=2
}
\lstset{
  style=mystyle,
  literate=% Allow for German characters in lstlistings.
  {Ö}{{\"O}}1
  {Ä}{{\"A}}1
  {Ü}{{\"U}}1
  {ß}{{\ss}}2
  {ü}{{\"u}}1
  {ä}{{\"a}}1
  {ö}{{\"o}}1
}
% pdf hyperref
\usepackage[
  bookmarks=true,
  bookmarksopen=true,
  bookmarksnumbered=true,
  bookmarksopenlevel=1,
  pdftitle={\titel},
  pdfauthor={\autor},
  pdfcreator={\autor},
  pdfsubject={\titel},
  pdfkeywords={\keywords},
  pdfpagelabels=true,
  colorlinks=true,
  linkcolor=black,
  urlcolor=blue,
  anchorcolor=black,
  citecolor=cyan,
  filecolor=magenta,
  menucolor=red,
  plainpages=false,
  hypertexnames=true,
  linktocpage=true,
  linktoc=all,
  % hidelinks Uncomment in Production build
]{hyperref}
\usepackage[nonumberlist, acronym]{glossaries}

\usepackage{float}
\restylefloat{table}

% page setup
% \setlength{\topskip}{\ht\strutbox}
\geometry{paper=a4paper,left=2.5cm,top=3.0cm,bindingoffset=.8cm}
\onehalfspacing
\frenchspacing
\clubpenalty = 10000
\widowpenalty = 10000
\displaywidowpenalty = 10000

% Uncomment to enable better printing support
% \clearpage
% Comment to enable better printing support
\let\cleardoublepage=\clearpage

% load glossary entries
\makenoidxglossaries
% \setglossarystyle{altlistgroup}
\setglossarystyle{list}
\loadglsentries{glossary}

% Remove hbox errors
\hfuzz=7.5pt

\input{acronyms}
\begin{document}

\setcounter{secnumdepth}{3}  % numerate subsections
\setcounter{tocdepth}{2}  % ...but don't include them in toc

\frontmatter
\thispagestyle{empty}
\pagenumbering{Roman}
\include{cover}
% \include{content/0_abstract}
\printnoidxglossaries
\tableofcontents

\makeatletter
\renewcommand\mainmatter{%
  \clearpage
  \@mainmattertrue
  \pagenumbering{arabic}}
\makeatother

\mainmatter
\include{content/01_introduction}
\include{content/02_project}
\include{content/03_process}
\include{content/04_analysis}
\include{content/05_architecture}
\include{content/06_technical}
\include{content/07_implementation}
\include{content/08_testing}
\include{content/09_closing}
\include{annex}
\backmatter
\listoffigures
\listoftables
\bibliographystyle{IEEEtran}
\bibliography{refs}

\end{document}
